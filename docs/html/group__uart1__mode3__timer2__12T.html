<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STC15W408AS library: UART1 Mode 3 with Timer2 12T</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">STC15W408AS library<span id="projectnumber">&#160;0.12.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle"><div class="title">UART1 Mode 3 with Timer2 12T</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gafb69b212a14bf192c342596eaf6dbe13" id="r_gafb69b212a14bf192c342596eaf6dbe13"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uart1__mode3__timer2__12T.html#gafb69b212a14bf192c342596eaf6dbe13">uart1_mode3_timer2_12T_init</a>(pins)</td></tr>
<tr class="memdesc:gafb69b212a14bf192c342596eaf6dbe13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize UART1 in Mode 1 with Timer2 12T configuration.  <br /></td></tr>
<tr class="separator:gafb69b212a14bf192c342596eaf6dbe13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga94da3e065017539d333125e86c345f74" id="r_ga94da3e065017539d333125e86c345f74"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uart1__mode3__timer2__12T.html#ga94da3e065017539d333125e86c345f74">uart1_mode3_timer2_12T_start</a>(baudrate)</td></tr>
<tr class="memdesc:ga94da3e065017539d333125e86c345f74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start UART1 communication with standart baudrate value.  <br /></td></tr>
<tr class="separator:ga94da3e065017539d333125e86c345f74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga01159e14523c654614f68af2ea720a91" id="r_ga01159e14523c654614f68af2ea720a91"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uart1__mode3__timer2__12T.html#ga01159e14523c654614f68af2ea720a91">uart1_mode3_timer2_12T_ticks</a>(baudrate)&#160;&#160;&#160;(65536 - ((((<a class="el" href="sys_8h.html#aa52cf4efd75d43c7917d9eec3becd2fa">MAIN_Fosc</a> / 12) / baudrate) &gt;&gt; 2) &gt;&gt; <a class="el" href="group__freq.html#ga2282854ce7886421e523f6d8f8467fae">get_frequency_divider_scale</a>()))</td></tr>
<tr class="memdesc:ga01159e14523c654614f68af2ea720a91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get UART1 ticks for given baudrate and frequency divider scale.  <br /></td></tr>
<tr class="separator:ga01159e14523c654614f68af2ea720a91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga319d6a1d21569b9e1ebfb22e452b0eaf" id="r_ga319d6a1d21569b9e1ebfb22e452b0eaf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uart1__mode3__timer2__12T.html#ga319d6a1d21569b9e1ebfb22e452b0eaf">uart1_mode3_timer2_12T_start_ext</a>(baudrate)</td></tr>
<tr class="memdesc:ga319d6a1d21569b9e1ebfb22e452b0eaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start UART1 communication with baudrate value.  <br /></td></tr>
<tr class="separator:ga319d6a1d21569b9e1ebfb22e452b0eaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ae62f6bb2c9b1004b1a88e7350763b9" id="r_ga8ae62f6bb2c9b1004b1a88e7350763b9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uart1__mode3__timer2__12T.html#ga8ae62f6bb2c9b1004b1a88e7350763b9">uart1_mode3_timer2_12T_stop</a>&#160;&#160;&#160;(bit_clr(AUXR, CBIT4))</td></tr>
<tr class="memdesc:ga8ae62f6bb2c9b1004b1a88e7350763b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop UART1 communication and disable Timer2.  <br /></td></tr>
<tr class="separator:ga8ae62f6bb2c9b1004b1a88e7350763b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9590aa2cdcef6343d26f85062278d00f" id="r_ga9590aa2cdcef6343d26f85062278d00f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uart1__mode3__timer2__12T.html#ga9590aa2cdcef6343d26f85062278d00f">is_uart1_mode3_timer2_12T_started</a>()&#160;&#160;&#160;(test_if_bit_set(AUXR, SBIT4))</td></tr>
<tr class="memdesc:ga9590aa2cdcef6343d26f85062278d00f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is UART1 started?  <br /></td></tr>
<tr class="separator:ga9590aa2cdcef6343d26f85062278d00f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga6250d834ff15b17fe8b5fa26d79b7261" id="r_ga6250d834ff15b17fe8b5fa26d79b7261"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uart1__mode3__timer2__12T.html#ga6250d834ff15b17fe8b5fa26d79b7261">uart1_mode3_timer2_12t_baudrate_t</a> { <a class="el" href="group__uart1__mode3__timer2__12T.html#gga6250d834ff15b17fe8b5fa26d79b7261a718705004fa5695de866d32509ca3b39">baudrate_1200</a> = 0xFF3F
, <a class="el" href="group__uart1__mode3__timer2__12T.html#gga6250d834ff15b17fe8b5fa26d79b7261a33660d8ce254b79993809e238a915f00">baudrate_2400</a> = 0xFF9F
, <a class="el" href="group__uart1__mode3__timer2__12T.html#gga6250d834ff15b17fe8b5fa26d79b7261ac3012764c007764284487b2cbee4b550">baudrate_4800</a> = 0xFFCF
, <a class="el" href="group__uart1__mode3__timer2__12T.html#gga6250d834ff15b17fe8b5fa26d79b7261a920ff2bd65ec0264e548c65f9beeeebe">baudrate_9600</a> = 0xFFE7
 }</td></tr>
<tr class="memdesc:ga6250d834ff15b17fe8b5fa26d79b7261"><td class="mdescLeft">&#160;</td><td class="mdescRight">UART1 Mode3 precalculated baudrates.  <a href="group__uart1__mode3__timer2__12T.html#ga6250d834ff15b17fe8b5fa26d79b7261">More...</a><br /></td></tr>
<tr class="separator:ga6250d834ff15b17fe8b5fa26d79b7261"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions and data structures for UART1 communication in Mode 3 with Timer2 12T as baudrate generator. Dont use Timer2 for other purposes.</p>
<p>This module implements UART1 point-to-point communication. Relay and broadcast features are not supported by this module.</p>
<p>UART1 Mode 3 provides 9-bit asynchronous communication with variable baud rate. Sent data is transmitted to the TxD pin, and received data is read from the RxD pin. The frame data includes one start bit, 9 data bits, and one stop bit. 9-N-1</p>
<p>UART1 baudrate is determined by the T2 overflow rate. T2 overflow rate is configured by setting T2H and T2L registers.</p>
<p>THTL = 65536 - (Sysclk/12)/(4 * baudrate). Sysclk = master clock frequency / frequency divder.</p>
<p>THTL value is precalulated for standard baudrates with none freq divider.</p>
<p>In UART1 Mode 1, three sets of RxD/TxD pins can be used: RxD on P3.0/TxD on P3.1, RxD on P3.6/TxD on P3.7 and RxD on P1.6/TxD on P1.7.</p>
<p>Typical usage: </p><div class="fragment"><div class="line"><a class="code hl_define" href="group__uart1__mode3__timer2__12T.html#gafb69b212a14bf192c342596eaf6dbe13">uart1_mode3_timer2_12T_init</a>(<a class="code hl_enumvalue" href="group__uart1__shared.html#ggaed599bf26e2baa98c2d108a072d02337abb894b0d9862cbfcd47c453dba0b9c47">RxD_P30_TxD_P31</a>);</div>
<div class="line"><a class="code hl_define" href="group__uart1__mode3__timer2__12T.html#ga94da3e065017539d333125e86c345f74">uart1_mode3_timer2_12T_start</a>(<a class="code hl_enumvalue" href="group__uart1__mode1__timer2__12T.html#gga041bfeb3611dd3a99d7c742e0d770844a920ff2bd65ec0264e548c65f9beeeebe">baudrate_9600</a>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">for</span> (;;)</div>
<div class="line">{</div>
<div class="line"> <span class="comment">// Send or receive data</span></div>
<div class="line">}</div>
<div class="ttc" id="agroup__uart1__mode1__timer2__12T_html_gga041bfeb3611dd3a99d7c742e0d770844a920ff2bd65ec0264e548c65f9beeeebe"><div class="ttname"><a href="group__uart1__mode1__timer2__12T.html#gga041bfeb3611dd3a99d7c742e0d770844a920ff2bd65ec0264e548c65f9beeeebe">baudrate_9600</a></div><div class="ttdeci">@ baudrate_9600</div><div class="ttdoc">9600 baudrate</div><div class="ttdef"><b>Definition</b> uart1_mode1_timer2_12T.h:75</div></div>
<div class="ttc" id="agroup__uart1__mode3__timer2__12T_html_ga94da3e065017539d333125e86c345f74"><div class="ttname"><a href="group__uart1__mode3__timer2__12T.html#ga94da3e065017539d333125e86c345f74">uart1_mode3_timer2_12T_start</a></div><div class="ttdeci">#define uart1_mode3_timer2_12T_start(baudrate)</div><div class="ttdoc">Start UART1 communication with standart baudrate value.</div><div class="ttdef"><b>Definition</b> uart1_mode3_timer2_12T.h:134</div></div>
<div class="ttc" id="agroup__uart1__mode3__timer2__12T_html_gafb69b212a14bf192c342596eaf6dbe13"><div class="ttname"><a href="group__uart1__mode3__timer2__12T.html#gafb69b212a14bf192c342596eaf6dbe13">uart1_mode3_timer2_12T_init</a></div><div class="ttdeci">#define uart1_mode3_timer2_12T_init(pins)</div><div class="ttdoc">Initialize UART1 in Mode 1 with Timer2 12T configuration.</div><div class="ttdef"><b>Definition</b> uart1_mode3_timer2_12T.h:96</div></div>
<div class="ttc" id="agroup__uart1__shared_html_ggaed599bf26e2baa98c2d108a072d02337abb894b0d9862cbfcd47c453dba0b9c47"><div class="ttname"><a href="group__uart1__shared.html#ggaed599bf26e2baa98c2d108a072d02337abb894b0d9862cbfcd47c453dba0b9c47">RxD_P30_TxD_P31</a></div><div class="ttdeci">@ RxD_P30_TxD_P31</div><div class="ttdoc">RxD on P3.0 and TxD on P3.1 pins.</div><div class="ttdef"><b>Definition</b> uart1_shared.h:26</div></div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__uart1__shared.html#gad9c16ff3593511fc868323e3718ecc1d" title="Sends a single byte over UART1.">uart1_send_byte()</a> </dd>
<dd>
<a class="el" href="group__uart1__shared.html#ga1940b2ddaaec617feb9c59d4a544e939" title="Receives a single byte over UART1.">uart1_receive_byte()</a> </dd>
<dd>
<a class="el" href="group__uart1__shared.html#gaff248c97ad442c4fc9931d4baa5e9854" title="Checks if UART1 send byte operation is complete.">is_uart1_send_byte_complete()</a> </dd>
<dd>
<a class="el" href="group__uart1__shared.html#gaa39515c87bdffa2f34570162da6d6d1a" title="Checks if UART1 receive byte operation is complete.">is_uart1_receive_byte_complete()</a></dd></dl>
<dl class="section author"><dt>Author</dt><dd>Michael Golovanov </dd></dl>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga9590aa2cdcef6343d26f85062278d00f" name="ga9590aa2cdcef6343d26f85062278d00f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9590aa2cdcef6343d26f85062278d00f">&#9670;&#160;</a></span>is_uart1_mode3_timer2_12T_started</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define is_uart1_mode3_timer2_12T_started</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;(test_if_bit_set(AUXR, SBIT4))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is UART1 started? </p>
<dl class="section return"><dt>Returns</dt><dd>bool returns true if UART1 started otherwise false. </dd></dl>

</div>
</div>
<a id="gafb69b212a14bf192c342596eaf6dbe13" name="gafb69b212a14bf192c342596eaf6dbe13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafb69b212a14bf192c342596eaf6dbe13">&#9670;&#160;</a></span>uart1_mode3_timer2_12T_init</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uart1_mode3_timer2_12T_init</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pins</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                                            \</div>
<div class="line">    enable_mcu_interrupts();                                    \</div>
<div class="line">    enable_uart1_interrupt();                                   \</div>
<div class="line">    disable_timer2_interrupt();                                 \</div>
<div class="line">                                                                \</div>
<div class="line">    PCON &amp;= 0x3F;                                               \</div>
<div class="line">    SCON = 0xD0;                                                \</div>
<div class="line">                                                                \</div>
<div class="line">    <span class="comment">/* The clock source of Timer 2 is SYSclk/12. AUXR.T2x12 = 0 */</span> \</div>
<div class="line">    <span class="comment">/* AUXR.UART_M0x6 = 0 */</span>                                    \</div>
<div class="line">    <span class="comment">/* Timer2 is not started. AUXR.T2R = 0 */</span>                   \</div>
<div class="line">    <span class="comment">/* Timer2 are used as timer. AUXR.T2_C/T = 0 */</span>             \</div>
<div class="line">    AUXR &amp;= 0xC2;                                               \</div>
<div class="line">                                                                \</div>
<div class="line">    <span class="comment">/* Select Timer2 as UART1 baud rate generator. AUXR.S1ST2 = 1; */</span> \</div>
<div class="line">    bit_set(AUXR, SBIT0);                                       \</div>
<div class="line">                                                                \</div>
<div class="line">    <span class="comment">/* Point-to-point mode */</span>                                   \</div>
<div class="line">    bit_clr(CLK_DIV, CBIT4);                                    \</div>
<div class="line">                                                                \</div>
<div class="line">    <span class="comment">/* Set AUXR1 bits 6, 7 to select RxD/TxD pins */</span>            \</div>
<div class="line">    AUXR1 &amp;= 0x3F;                                              \</div>
<div class="line">    AUXR1 |= pins;                                              \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
<p>Initialize UART1 in Mode 1 with Timer2 12T configuration. </p>
<p>The clock source of Timer2 is SYSclk/12. AUXR.T2x12 = 0. AUXR.UART_M0x6 = 0. Timer2 are used as timer. AUXR.T2_C/T = 0. Timer2 is not started. AUXR.T2R = 0.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__uart1__shared.html#gaed599bf26e2baa98c2d108a072d02337" title="UART1 RxD/TxD pins enum.">uart1_pins_t</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pins</td><td>Pin configuration from uart1_pins_t enum</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Must be called before starting UART communication </dd></dl>

</div>
</div>
<a id="ga94da3e065017539d333125e86c345f74" name="ga94da3e065017539d333125e86c345f74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga94da3e065017539d333125e86c345f74">&#9670;&#160;</a></span>uart1_mode3_timer2_12T_start</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uart1_mode3_timer2_12T_start</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">baudrate</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                                            \</div>
<div class="line">    <span class="comment">/* Set TH TL values */</span>                                      \</div>
<div class="line">    T2L = baudrate &amp; 0xFF;                                      \</div>
<div class="line">    T2H = baudrate &gt;&gt; 8;                                        \</div>
<div class="line">                                                                \</div>
<div class="line">    <span class="comment">/* Start Timer2 */</span>                                          \</div>
<div class="line">    bit_set(AUXR, SBIT4);                                       \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
<p>Start UART1 communication with standart baudrate value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">baudrate</td><td>const uart1_mode3_timer2_12t_baudrate_t Baudrate selection from uart1_mode3_timer2_12t_baudrate_t enum</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Before calling this function, <a class="el" href="group__uart1__mode3__timer2__12T.html#gafb69b212a14bf192c342596eaf6dbe13" title="Initialize UART1 in Mode 1 with Timer2 12T configuration.">uart1_mode3_timer2_12T_init()</a> must be called. </dd>
<dd>
Enum contains standard baudrates with precalculated THTL values for 12T mode</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>UART1 mode3 in this routine is biased by frequency divider. </dd></dl>

</div>
</div>
<a id="ga319d6a1d21569b9e1ebfb22e452b0eaf" name="ga319d6a1d21569b9e1ebfb22e452b0eaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga319d6a1d21569b9e1ebfb22e452b0eaf">&#9670;&#160;</a></span>uart1_mode3_timer2_12T_start_ext</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uart1_mode3_timer2_12T_start_ext</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">baudrate</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                                            \</div>
<div class="line">    <span class="keyword">const</span> uint16_t ticks = <a class="code hl_define" href="group__uart1__mode3__timer2__12T.html#ga01159e14523c654614f68af2ea720a91">uart1_mode3_timer2_12T_ticks</a>(baudrate);\</div>
<div class="line">                                                                \</div>
<div class="line">    <span class="comment">/* Set TH TL values */</span>                                      \</div>
<div class="line">    T2L = ticks &amp; 0xFF;                                         \</div>
<div class="line">    T2H = ticks &gt;&gt; 8;                                           \</div>
<div class="line">                                                                \</div>
<div class="line">    <span class="comment">/* Start Timer2 */</span>                                          \</div>
<div class="line">    bit_set(AUXR, SBIT4);                                       \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="agroup__uart1__mode3__timer2__12T_html_ga01159e14523c654614f68af2ea720a91"><div class="ttname"><a href="group__uart1__mode3__timer2__12T.html#ga01159e14523c654614f68af2ea720a91">uart1_mode3_timer2_12T_ticks</a></div><div class="ttdeci">#define uart1_mode3_timer2_12T_ticks(baudrate)</div><div class="ttdoc">Get UART1 ticks for given baudrate and frequency divider scale.</div><div class="ttdef"><b>Definition</b> uart1_mode3_timer2_12T.h:159</div></div>
</div><!-- fragment -->
<p>Start UART1 communication with baudrate value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">baudrate</td><td>const uint32_t Baudrate value. Value may be non standard (not in 1200, 9600 etc).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Before calling this function, <a class="el" href="group__uart1__mode3__timer2__12T.html#gafb69b212a14bf192c342596eaf6dbe13" title="Initialize UART1 in Mode 1 with Timer2 12T configuration.">uart1_mode3_timer2_12T_init()</a> must be called.</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>This function is not baudrate overflow safe. </dd></dl>

</div>
</div>
<a id="ga8ae62f6bb2c9b1004b1a88e7350763b9" name="ga8ae62f6bb2c9b1004b1a88e7350763b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8ae62f6bb2c9b1004b1a88e7350763b9">&#9670;&#160;</a></span>uart1_mode3_timer2_12T_stop</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uart1_mode3_timer2_12T_stop&#160;&#160;&#160;(bit_clr(AUXR, CBIT4))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop UART1 communication and disable Timer2. </p>
<dl class="section warning"><dt>Warning</dt><dd>Calling this function will terminate any ongoing communication </dd></dl>

</div>
</div>
<a id="ga01159e14523c654614f68af2ea720a91" name="ga01159e14523c654614f68af2ea720a91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga01159e14523c654614f68af2ea720a91">&#9670;&#160;</a></span>uart1_mode3_timer2_12T_ticks</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uart1_mode3_timer2_12T_ticks</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">baudrate</td><td>)</td>
          <td>&#160;&#160;&#160;(65536 - ((((<a class="el" href="sys_8h.html#aa52cf4efd75d43c7917d9eec3becd2fa">MAIN_Fosc</a> / 12) / baudrate) &gt;&gt; 2) &gt;&gt; <a class="el" href="group__freq.html#ga2282854ce7886421e523f6d8f8467fae">get_frequency_divider_scale</a>()))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get UART1 ticks for given baudrate and frequency divider scale. </p>
<p>Ticks used as input parameter for <a class="el" href="group__uart1__mode3__timer2__12T.html#ga319d6a1d21569b9e1ebfb22e452b0eaf" title="Start UART1 communication with baudrate value.">uart1_mode3_timer2_12T_start_ext()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">baudrate</td><td>uint32_t baudrate</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint16_t baudrate ticks</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>This function is not overflow safe. The value of ((((MAIN_Fosc / 12) / baudrate) &gt;&gt; 2) &gt;&gt; <a class="el" href="group__freq.html#ga2282854ce7886421e523f6d8f8467fae" title="Get master clock frequency divider scale (CLK_DIV bits [0..2])">get_frequency_divider_scale()</a>) should be less than 65535 (uint16_t). </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga6250d834ff15b17fe8b5fa26d79b7261" name="ga6250d834ff15b17fe8b5fa26d79b7261"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6250d834ff15b17fe8b5fa26d79b7261">&#9670;&#160;</a></span>uart1_mode3_timer2_12t_baudrate_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__uart1__mode3__timer2__12T.html#ga6250d834ff15b17fe8b5fa26d79b7261">uart1_mode3_timer2_12t_baudrate_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>UART1 Mode3 precalculated baudrates. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga6250d834ff15b17fe8b5fa26d79b7261a718705004fa5695de866d32509ca3b39" name="gga6250d834ff15b17fe8b5fa26d79b7261a718705004fa5695de866d32509ca3b39"></a>baudrate_1200&#160;</td><td class="fielddoc"><p>1200 baudrate </p>
</td></tr>
<tr><td class="fieldname"><a id="gga6250d834ff15b17fe8b5fa26d79b7261a33660d8ce254b79993809e238a915f00" name="gga6250d834ff15b17fe8b5fa26d79b7261a33660d8ce254b79993809e238a915f00"></a>baudrate_2400&#160;</td><td class="fielddoc"><p>2400 baudrate </p>
</td></tr>
<tr><td class="fieldname"><a id="gga6250d834ff15b17fe8b5fa26d79b7261ac3012764c007764284487b2cbee4b550" name="gga6250d834ff15b17fe8b5fa26d79b7261ac3012764c007764284487b2cbee4b550"></a>baudrate_4800&#160;</td><td class="fielddoc"><p>4800 baudrate </p>
</td></tr>
<tr><td class="fieldname"><a id="gga6250d834ff15b17fe8b5fa26d79b7261a920ff2bd65ec0264e548c65f9beeeebe" name="gga6250d834ff15b17fe8b5fa26d79b7261a920ff2bd65ec0264e548c65f9beeeebe"></a>baudrate_9600&#160;</td><td class="fielddoc"><p>9600 baudrate </p>
</td></tr>
</table>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
